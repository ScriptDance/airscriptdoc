import{_ as t,r as e,o as p,c as o,d as s,e as n,b as i,a as c}from"./app-a1bc3a5f.js";const l={},u={href:"https://docs.python.org/zh-cn/3.8/library/functions.html#open",target:"_blank",rel:"noopener noreferrer"},r=c(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># open 语法如下</span>
<span class="token builtin">open</span><span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">&#39;r&#39;</span><span class="token punctuation">,</span> buffering<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> errors<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> newline<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> closefd<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> opener<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="路径" tabindex="-1"><a class="header-anchor" href="#路径" aria-hidden="true">#</a> 路径</h2><p>Android 是基于 Linux,因此文件系统和Linux 雷同.</p><p>在Android 中如果您的手机没有Root,那我们仅有权限自如的操作 &quot;/sd&quot; 卡路径下的文件.</p><h3 id="友好的路径写法" tabindex="-1"><a class="header-anchor" href="#友好的路径写法" aria-hidden="true">#</a> 友好的路径写法</h3><p>获取SD卡中文件路径 我们可以借助from airscript.system import R 环境模块.</p><p>以下是几个路径写法案例:</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> airscript<span class="token punctuation">.</span>system <span class="token keyword">import</span> R
<span class="token comment"># 获取SD卡根目录下的1.png 的完整路径</span>
path <span class="token operator">=</span> R<span class="token punctuation">.</span>sd<span class="token punctuation">(</span><span class="token string">&quot;1.png&quot;</span><span class="token punctuation">)</span> 
<span class="token keyword">print</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> airscript<span class="token punctuation">.</span>system <span class="token keyword">import</span> R
<span class="token comment"># 获取SD卡根目录下的airscript文件夹下的 a.txt文件夹</span>
path <span class="token operator">=</span> R<span class="token punctuation">.</span>sd<span class="token punctuation">(</span><span class="token string">&quot;/airscript/a.txt&quot;</span><span class="token punctuation">)</span> 
<span class="token keyword">print</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="创建文件" tabindex="-1"><a class="header-anchor" href="#创建文件" aria-hidden="true">#</a> 创建文件</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> airscript<span class="token punctuation">.</span>system <span class="token keyword">import</span> R
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>sd<span class="token punctuation">(</span><span class="token string">&quot;a.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>mode<span class="token operator">=</span><span class="token string">&#39;w&#39;</span><span class="token punctuation">)</span>
<span class="token comment"># 上面这句代码意思:打开当前文件路径下的这个文件并采用写入的文件模式，当这个文件不存在的时候就会去创建</span>
<span class="token comment"># w、w+、a+、a模式都能创建新文件</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="创建文件夹" tabindex="-1"><a class="header-anchor" href="#创建文件夹" aria-hidden="true">#</a> 创建文件夹</h2><p>创建文件夹用到了 os模块</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> os
<span class="token keyword">from</span> airscript<span class="token punctuation">.</span>system <span class="token keyword">import</span> R
path <span class="token operator">=</span> R<span class="token punctuation">.</span>sd<span class="token punctuation">(</span><span class="token string">&quot;aaa&quot;</span><span class="token punctuation">)</span> <span class="token comment"># 在sd卡创建一个 aaa文件夹</span>
os<span class="token punctuation">.</span>mkdir<span class="token punctuation">(</span>path<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="删除文件" tabindex="-1"><a class="header-anchor" href="#删除文件" aria-hidden="true">#</a> 删除文件</h2><p>在Python 中删除文件的方法比较多</p><h3 id="删除文件-1" tabindex="-1"><a class="header-anchor" href="#删除文件-1" aria-hidden="true">#</a> 删除文件</h3><p>os.remove(path)</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> os
<span class="token keyword">from</span> airscript<span class="token punctuation">.</span>system <span class="token keyword">import</span> R
<span class="token comment"># 删除sd卡下的 1.txt文件</span>
os<span class="token punctuation">.</span>remove<span class="token punctuation">(</span>R<span class="token punctuation">.</span>sd<span class="token punctuation">(</span><span class="token string">&quot;1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="删除文件夹" tabindex="-1"><a class="header-anchor" href="#删除文件夹" aria-hidden="true">#</a> 删除文件夹</h3><p>os.rmdir(path)</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> os
<span class="token keyword">from</span> airscript<span class="token punctuation">.</span>system <span class="token keyword">import</span> R
<span class="token comment"># 删除sd卡下的 b文件夹</span>
os<span class="token punctuation">.</span>rmdir<span class="token punctuation">(</span>R<span class="token punctuation">.</span>sd<span class="token punctuation">(</span><span class="token string">&quot;/b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="读文件" tabindex="-1"><a class="header-anchor" href="#读文件" aria-hidden="true">#</a> 读文件</h2><h3 id="读取所有内容" tabindex="-1"><a class="header-anchor" href="#读取所有内容" aria-hidden="true">#</a> 读取所有内容</h3><p>file.read()</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> airscript<span class="token punctuation">.</span>system <span class="token keyword">import</span> R
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>sd<span class="token punctuation">(</span><span class="token string">&quot;/1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;r+&quot;</span><span class="token punctuation">)</span>
<span class="token builtin">str</span><span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="读取一行" tabindex="-1"><a class="header-anchor" href="#读取一行" aria-hidden="true">#</a> 读取一行</h3><p>file.readline([size])</p><p>读取整行，包括 &quot;\\n&quot; 字符。</p><p>读取所有行并返回列表，若给定sizeint&gt;0，返回总和大约为sizeint字节的行, 实际读取值可能比 sizeint 较大, 因为需要填充缓冲区。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> airscript<span class="token punctuation">.</span>system <span class="token keyword">import</span> R
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>sd<span class="token punctuation">(</span><span class="token string">&quot;/1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;r+&quot;</span><span class="token punctuation">)</span>
content <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="读取所有行" tabindex="-1"><a class="header-anchor" href="#读取所有行" aria-hidden="true">#</a> 读取所有行</h3><p>file.readlines([sizeint])</p><p>读取所有行并返回列表，若给定sizeint&gt;0，返回总和大约为sizeint字节的行, 实际读取值可能比 sizeint 较大, 因为需要填充缓冲区。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> airscript<span class="token punctuation">.</span>system <span class="token keyword">import</span> R
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>sd<span class="token punctuation">(</span><span class="token string">&quot;/1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;r+&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> line <span class="token keyword">in</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span>

<span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="写文件" tabindex="-1"><a class="header-anchor" href="#写文件" aria-hidden="true">#</a> 写文件</h2><h3 id="写入字符串" tabindex="-1"><a class="header-anchor" href="#写入字符串" aria-hidden="true">#</a> 写入字符串</h3><p>file.write(str)</p><p>将字符串写入文件，返回的是写入的字符长度。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># w+模式打开此文件后,每次写都会清空源文件内容,重新写入</span>
<span class="token keyword">from</span> airscript<span class="token punctuation">.</span>system <span class="token keyword">import</span> R
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>sd<span class="token punctuation">(</span><span class="token string">&quot;/1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;w+&quot;</span><span class="token punctuation">)</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;自在老师&quot;</span><span class="token punctuation">)</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="写入字符串序列" tabindex="-1"><a class="header-anchor" href="#写入字符串序列" aria-hidden="true">#</a> 写入字符串序列</h3><p>file.writelines(sequence)</p><p>向文件写入一个序列字符串列表，如果需要换行则要自己加入每行的换行符。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> airscript<span class="token punctuation">.</span>system <span class="token keyword">import</span> R
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>sd<span class="token punctuation">(</span><span class="token string">&quot;/1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;w+&quot;</span><span class="token punctuation">)</span>
strs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;自在老师\\n&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;你好&quot;</span><span class="token punctuation">]</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>writelines<span class="token punctuation">(</span>strs<span class="token punctuation">)</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="在文件末尾追加" tabindex="-1"><a class="header-anchor" href="#在文件末尾追加" aria-hidden="true">#</a> 在文件末尾追加</h3><p>在末尾读写 使用到了 seek函数</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> airscript<span class="token punctuation">.</span>system <span class="token keyword">import</span> R
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>R<span class="token punctuation">.</span>sd<span class="token punctuation">(</span><span class="token string">&quot;/1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&quot;r+&quot;</span><span class="token punctuation">)</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>seek<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;我会追加在末尾&quot;</span><span class="token punctuation">)</span>
<span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,47);function d(k,m){const a=e("ExternalLinkIcon");return p(),o("div",null,[s("p",null,[n("文件读写中,我们使用内置函数"),s("a",u,[n("open"),i(a)]),n("操作文件")]),r])}const h=t(l,[["render",d],["__file","file.html.vue"]]);export{h as default};

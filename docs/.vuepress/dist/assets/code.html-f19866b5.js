import{_ as p}from"./ico_python-823ba1af.js";import{_ as i,r as o,o as l,c,d as n,e as s,b as t,a as e}from"./app-6ba1b0bf.js";const r="/assets/img/ico_pypi.png",u={},d=e('<h1 id="语言" tabindex="-1"><a class="header-anchor" href="#语言" aria-hidden="true">#</a> 语言</h1><p>Airscript 采用Python 3.8 驱动编程</p><p>因此你需要掌握一些Python的基础语法.</p><h2 id="python" tabindex="-1"><a class="header-anchor" href="#python" aria-hidden="true">#</a> <img src="'+p+'" style="width:25px;"> Python</h2><p>Airscript 内部集成了Python 的运行环境.</p>',5),v={href:"https://www.bilibili.com/video/BV1WX4y1s7Ab",target:"_blank",rel:"noopener noreferrer"},k=n("h3",{id:"标准库",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#标准库","aria-hidden":"true"},"#"),s(" 标准库")],-1),m=n("p",null,"由于Android 平台的迁移,大部分Python标准库是支持的.",-1),h={href:"https://docs.python.org/zh-cn/3.8/library/",target:"_blank",rel:"noopener noreferrer"},b=e(`<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>以下模块不受支持，因为它们需要Android上没有的操作系统功能：

- crypt
- grp
- nis
- spwd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>
以下模块不受支持，因为它们需要我们目前不包括的库：

- curses
- dbm.gnu
- dbm.ndbm
- readline
- tkinter
- turtle

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="import" tabindex="-1"><a class="header-anchor" href="#import" aria-hidden="true">#</a> import</h3><div class="custom-container warning"><p class="custom-container-title">不支持 import .*</p><p>由于import 经过重载更改,因此 .* 不在支持.</p></div><div class="custom-container tip"><p class="custom-container-title">import 可以导入哪些库</p><p>标准库</p><p>工程目录下的库 (工程目录下的py文件)</p><p>拓展库 (通过pip install 安装的库)</p><p>java或android库( AirScript把java和android api 封装成了内置python库)</p></div><p>下面是一些案例</p><ul><li>导入本工程下的python文件</li></ul><p>这是一个as工程结构,我们来看不同层级,是如何导入文件的</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>.demo &quot;工程名称&quot;
├─ __init__.py &quot;小程序启动入口&quot;
├─ main.py
├─ app 
│  └─ home 
│     └─ banner.py 
└─ vip 
   └─ login.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 在__init__.py 中导入同级的 main.py</span>
<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> main
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 在__init__.py 中导入vip/login.py</span>
<span class="token keyword">from</span> <span class="token punctuation">.</span>vip <span class="token keyword">import</span> login
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 在__init__.py 中导入app/home/banner.py</span>
<span class="token keyword">from</span> <span class="token punctuation">.</span>app<span class="token punctuation">.</span>home <span class="token keyword">import</span> banner
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 在banner.py 中导入login.py</span>
<span class="token keyword">from</span> airscript<span class="token punctuation">.</span>system <span class="token keyword">import</span> R
<span class="token builtin">__import__</span><span class="token punctuation">(</span>R<span class="token punctuation">(</span>__file__<span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">&quot;.vip.login&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="python包拓展" tabindex="-1"><a class="header-anchor" href="#python包拓展" aria-hidden="true">#</a> <img src="`+r+`" style="width:25px;"> Python包拓展</h2><p>如果Airscript app中内置的python包无法满足你的开发需求.</p><p>开发者可通过pip配置,将需要的第三方python包编译进Airscript app中.</p><div class="custom-container warning"><p class="custom-container-title">Python包拓展需要重新打包AirScript</p><p>为何不能动态拓展?</p><p>Android 7.0开始对动态引入 动态链接库做了限制,因此我们只能重新打包把需要的动态链接库内置进AirscriptApp中</p></div><h3 id="pip" tabindex="-1"><a class="header-anchor" href="#pip" aria-hidden="true">#</a> Pip</h3><p>pip 是一个通用的 Python 包管理工具。提供了对 Python 包的查找、下载、安装、卸载的功能</p><p>Airscript 中也需要通过Pip配置 安装Python包</p><h3 id="pip-模版" tabindex="-1"><a class="header-anchor" href="#pip-模版" aria-hidden="true">#</a> Pip 模版</h3><p>模版中的name属性,不允许修改</p><p>通过Pip模版的修改,就可以将Python包 配置进 AirScript 中了.</p><ul><li>这是默认的模版</li></ul><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;__name_zwf__&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;pip&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   	<span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;--timeout&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
   	<span class="token property">&quot;install&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
   		<span class="token string">&quot;opencv-contrib-python==4.1.2.30&quot;</span><span class="token punctuation">,</span>
   		<span class="token string">&quot;requests&quot;</span><span class="token punctuation">,</span>
   		<span class="token string">&quot;pymysql&quot;</span><span class="token punctuation">,</span>
   		<span class="token string">&quot;numpy&quot;</span>
   	<span class="token punctuation">]</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们只需要 按照上方的json 格式 去拓展我们想要的Python库即可.</p><hr><h3 id="pip-intall-安装" tabindex="-1"><a class="header-anchor" href="#pip-intall-安装" aria-hidden="true">#</a> pip intall 安装</h3><p>比如我们想要拓展 tensorflow python 包,我们可以这样写</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code> <span class="token punctuation">{</span>
	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;__name_zwf__&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;pip&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;--timeout&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token property">&quot;install&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token string">&quot;opencv-contrib-python==4.1.2.30&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;requests&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;pymysql&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;numpy&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;tensorflow&quot;</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pip-options-参数" tabindex="-1"><a class="header-anchor" href="#pip-options-参数" aria-hidden="true">#</a> pip options 参数</h3><p>比如我们要加入 额外的包索引地址 ‘https://example.com/private/repository’,我们可以这样配置</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;__name_zwf__&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;pip&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;--timeout&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
                     <span class="token string">&quot;--extra-index-url&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;https://example.com/private/repository&quot;</span>
                   <span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token property">&quot;install&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
			<span class="token string">&quot;opencv-contrib-python==4.1.2.30&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;requests&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;pymysql&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;numpy&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;tensorflow&quot;</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pip-安装编译" tabindex="-1"><a class="header-anchor" href="#pip-安装编译" aria-hidden="true">#</a> Pip 安装编译</h3><p>AirScript 中要通过Pip 管理Python包,需要做一些配置.</p>`,35),y={href:"http://py.airscript.cn/",target:"_blank",rel:"noopener noreferrer"},g={start:"2"},_={href:"http://py.airscript.cn/admin/pip/list",target:"_blank",rel:"noopener noreferrer"},q=n("li",null,[n("ol",{start:"3"},[n("li",null,"点击右上角 新增")])],-1),f=n("li",null,[n("ol",{start:"4"},[n("li",null,"编辑新增")])],-1),x=n("li",null,[n("ol",{start:"5"},[n("li",null,"提交后,等待编译完成,即可下载安装使用")])],-1),w=n("img",{src:"https://airscript.oss-cn-hangzhou.aliyuncs.com/res/img/doc_pip_create.jpg"},null,-1),j=n("h3",{id:"查找已编译的app",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#查找已编译的app","aria-hidden":"true"},"#"),s(" 查找已编译的App")],-1),P={href:"http://www.airscript.cn/aspip.html#",target:"_blank",rel:"noopener noreferrer"},A=e(`<p>如想使用在AirScript 中使用 tensorflow ,您可以搜索 tensorflow 如果存在,并且Airscript 版本合适, 可直接下载安装.</p><p>如果并没有合适的条目,您需要通过Pip配置 编译出一个合适的AirScript</p><img src="https://airscript.oss-cn-hangzhou.aliyuncs.com/res/img/doc_pip_search.jpg"><h2 id="python导入androidapi" tabindex="-1"><a class="header-anchor" href="#python导入androidapi" aria-hidden="true">#</a> Python导入AndroidApi</h2><p>AirScript 的强大在于可以与AndroidSDK 混编</p><p>在AirScript 可以像引入Python包那样,引入Java Class</p><h3 id="导入java-类" tabindex="-1"><a class="header-anchor" href="#导入java-类" aria-hidden="true">#</a> 导入java 类</h3><ul><li>利用jclass 导入 java类</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> java <span class="token keyword">import</span> jclass
<span class="token comment"># 通过 java Claendar获取当前时间的毫秒值</span>
Calendar <span class="token operator">=</span> jclass<span class="token punctuation">(</span><span class="token string">&quot;java.util.Calendar&quot;</span><span class="token punctuation">)</span>
c <span class="token operator">=</span> Calendar<span class="token punctuation">.</span>getInstance<span class="token punctuation">(</span><span class="token punctuation">)</span>
t <span class="token operator">=</span> c<span class="token punctuation">.</span>getTimeInMillis<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>例如: 在Python中使用 java 的 Map</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> java<span class="token punctuation">.</span>util <span class="token keyword">import</span> HashMap

<span class="token builtin">map</span> <span class="token operator">=</span> HashMap<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">map</span><span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;自在&quot;</span><span class="token punctuation">)</span>
<span class="token builtin">map</span><span class="token punctuation">.</span>put<span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="实现-java-接口" tabindex="-1"><a class="header-anchor" href="#实现-java-接口" aria-hidden="true">#</a> 实现 java 接口</h3><ul><li>例如:用动态代理,来使用java 多线程Thread</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> java<span class="token punctuation">.</span>lang <span class="token keyword">import</span> Runnable<span class="token punctuation">,</span> Thread
<span class="token keyword">from</span> java <span class="token keyword">import</span> dynamic_proxy
<span class="token keyword">class</span> <span class="token class-name">R</span><span class="token punctuation">(</span>dynamic_proxy<span class="token punctuation">(</span>Runnable<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
   <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
      self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
   <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
      <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Running &quot;</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>

r <span class="token operator">=</span> R<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
t <span class="token operator">=</span> Thread<span class="token punctuation">(</span>r<span class="token punctuation">)</span>
t<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14);function S(R,z){const a=o("ExternalLinkIcon");return l(),c("div",null,[d,n("p",null,[n("a",v,[s("Python官方视频教程"),t(a)])]),k,m,n("p",null,[n("a",h,[s("Python 标准库"),t(a)])]),b,n("ul",null,[n("li",null,[n("ol",null,[n("li",null,[s("登录 "),n("a",y,[s("开发者后台"),t(a)])])])]),n("li",null,[n("ol",g,[n("li",null,[s("点击Pip 应用管理-> "),n("a",_,[s("Pip拓展"),t(a)])])])]),q,f,x]),w,j,n("p",null,[s("如果您需要下载一个 包含指定Python包的 Airscript App,您可以前往"),n("a",P,[s("官网查询"),t(a)])]),A])}const V=i(u,[["render",S],["__file","code.html.vue"]]);export{V as default};
